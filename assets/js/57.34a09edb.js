(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{633:function(t,s,a){"use strict";a.r(s);var n=a(7),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"效果"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#效果"}},[t._v("#")]),t._v(" 效果")]),t._v(" "),a("p",[t._v("简单操作即可从OpenStreetMap中提取目标路网并输出为符合GMNS标准的路网文件。")]),t._v(" "),a("ul",[a("li",[t._v("支持解析出多种类型的网络，包括：auto, bike, walk, railway, aeroway")]),t._v(" "),a("li",[t._v("支持下载POI数据，并可将POI自动连接至交通小区和网络")])]),t._v(" "),a("h2",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),a("p",[t._v("​"),a("br"),t._v("\npip install osm2gmns")]),t._v(" "),a("h2",{attrs:{id:"使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[t._v("#")]),t._v(" 使用")]),t._v(" "),a("p",[a("a",{attrs:{href:"www.openstreetmap.org"}},[t._v("OSM官网")]),t._v("框选一块地图进行下载")]),t._v(" "),a("p",[t._v("​"),a("br"),t._v("\nimport osm2gmns as og")]),t._v(" "),a("p",[t._v("​"),a("br"),t._v("\ndef main():\nnet = og.getNetFromOSMFile('../data/map1.osm',\nstrict_mode=False,"),a("br"),t._v("\n# 设置是否删除框选区域范围外的数据，默认为True\nmin_nodes=1,"),a("br"),t._v("\n# 设置删除子网络的条件节点数，默认为1\ncombine=True,"),a("br"),t._v("\n# 设置短路是否合并，设置为True的话会生成segment.csv，默认为False\ndefault_lanes=True,"),a("br"),t._v("\n# 设置默认车道数，默认为False\ndefault_speed=True,"),a("br"),t._v("\n# 设置默认车速，默认为False\nnetwork_type=('walk',),"),a("br"),t._v("\n# 设置不同类型的路网，auto, bike, walk, railway, aeroway.\nPOIs=True,"),a("br"),t._v("\n# 设置是否生成POI点，True的话会生成poi.csv\n)\n# og.consolidateComplexIntersections(net)"),a("br"),t._v("\n# 是否简化交叉口\n# og.connectPOIWithNet(net)"),a("br"),t._v("\n# 是将POI和路网中的最近点连接起来\nog.outputNetToCSV(net, output_folder='../result/walk/')"),a("br"),t._v("\n# 输出结果到csv")]),t._v(" "),a("p",[t._v("​"),a("br"),t._v("\nif "),a("strong",[t._v("name")]),t._v(" == '"),a("strong",[t._v("main")]),t._v("':\nmain()")]),t._v(" "),a("p",[t._v("​")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://my-imags.oss-cn-shanghai.aliyuncs.com/pic/20201229160156.png",alt:""}})]),t._v(" "),a("h2",{attrs:{id:"可视化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#可视化"}},[t._v("#")]),t._v(" 可视化")]),t._v(" "),a("ol",[a("li",[t._v("打开QGIS软件，如下图，选择【Add Delimited Text Layer】")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://my-imags.oss-cn-shanghai.aliyuncs.com/pic/20201229160509.png",alt:""}})]),t._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[t._v("选择生成的csv文件，这里我们先选择节点的文件node.csv，几处需要注意的地方，点击Add")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://my-imags.oss-cn-shanghai.aliyuncs.com/pic/20201229162622.png",alt:""}}),t._v(" "),a("img",{attrs:{src:"https://my-imags.oss-cn-shanghai.aliyuncs.com/pic/20201229162701.png",alt:""}})]),t._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[t._v("同理添加其他csv文件")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://my-imags.oss-cn-shanghai.aliyuncs.com/pic/20201229162846.png",alt:""}})]),t._v(" "),a("h2",{attrs:{id:"补充"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#补充"}},[t._v("#")]),t._v(" 补充")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://zephyrtransport.org/projects/2-network-standard-and-tools/",target:"_blank",rel:"noopener noreferrer"}},[t._v("GMNS"),a("OutboundLink")],1),t._v("\nGeneral Modeling Network Specification")]),t._v(" "),a("blockquote",[a("p",[t._v("详细请参考 微信推文：https://mp.weixin.qq.com/s/ush4Ff_g__3HDSJJBn2VQQ\n用户手册：https://osm2gmns.readthedocs.io/en/latest/")])])])}),[],!1,null,null,null);s.default=e.exports}}]);