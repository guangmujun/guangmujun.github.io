(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{609:function(t,l,e){"use strict";e.r(l);var a=e(7),s=Object(a.a)({},(function(){var t=this,l=t.$createElement,e=t._self._c||l;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"端口开放的那些事"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#端口开放的那些事"}},[t._v("#")]),t._v(" 端口开放的那些事")]),t._v(" "),e("ol",[e("li",[t._v("使用的是云服务器吗？")])]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("安全组")]),t._v(" 中添加相关端口的开放规则")]),t._v(" "),e("li",[t._v("OK，后面不管是云服务器还是本地服务器，情况就都一样了")])]),t._v(" "),e("ol",{attrs:{start:"2"}},[e("li",[t._v("使用的服务器的系统是？")])]),t._v(" "),e("ul",[e("li",[e("p",[e("strong",[t._v("CentOS")])]),t._v(" "),e("ul",[e("li",[e("p",[t._v("查看已经开放的端口")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("      firewall-cmd --list-ports\n")])])])]),t._v(" "),e("li",[e("p",[t._v("永久开启指定的端口")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("      firewall-cmd --zone=public --add-port=5901/tcp --permanent\n")])])])]),t._v(" "),e("li",[e("p",[t._v("重新载入后，添加的端口才会开启")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("      firewall-cmd --reload\n")])])])]),t._v(" "),e("li",[e("p",[t._v("再查看端口是否开启")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("      firewall-cmd --zone=public --query-port=5901/tcp\n")])])])]),t._v(" "),e("li",[e("p",[t._v("删除已经开启的端口")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("      firewall-cmd --zone=public --remove-port=5901/tcp --permanent\n")])])])])])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("Ubuntu")])]),t._v(" "),e("ul",[e("li",[e("p",[t._v("安装iptables")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("      sudo apt-get install iptables\n")])])])]),t._v(" "),e("li",[e("p",[t._v("添加规则，开放端口")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("      sudo iptables -I INPUT -p tcp --dport 80 -j ACCEPT\n")])])])]),t._v(" "),e("li",[e("p",[t._v("保存规则")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("      sudo iptables-save\n")])])])]),t._v(" "),e("li",[e("p",[t._v("持久化规则")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("      sudo apt-get install iptables-persistent\n")])])]),e("p",[t._v("sudo netfilter-persistent save\nsudo netfilter-persistent reload")])]),t._v(" "),e("li",[e("p",[t._v("查看断后是否开放")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("      lsof -i:80\n")])])])])])])]),t._v(" "),e("ol",{attrs:{start:"3"}},[e("li",[t._v("端口相关的测试")])]),t._v(" "),e("ul",[e("li",[t._v("服务器端的测试\n"),e("ul",[e("li",[t._v("使用前面提到的命令，查看对应的端口是否开启即可")])])]),t._v(" "),e("li",[t._v("客户端的测试\n"),e("ul",[e("li",[e("code",[t._v("telnet IP Port")]),t._v("使用telnet命令测试，连接失败不代表端口没有开启")]),t._v(" "),e("li",[t._v("在端口开启，并且有服务监听时，telnet测试命令才会显示连接成功")]),t._v(" "),e("li",[t._v("telnet测试成功后，通过IP和端口进行服务的访问基本上就OK了~")])])])]),t._v(" "),e("blockquote",[e("p",[t._v("参考：")]),t._v(" "),e("ul",[e("li",[t._v("https://support.huaweicloud.com/dpmg-\nkunpengcps/kunpengandroid_CentOS_03_0027.html")]),t._v(" "),e("li",[t._v("https://blog.csdn.net/Honnyee/article/details/81535464")])])])])}),[],!1,null,null,null);l.default=s.exports}}]);